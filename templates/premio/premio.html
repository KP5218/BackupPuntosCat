{% extends 'global/layout.html' %}
{% load static %}

{% block content %}
{% load custom_tags %}
{% if user.is_authenticated %}

{% if request.user|has_group:"admin" %}
<div class="container mt-3">
  <div class="row justify-content-center">
    <div class="col-md-16">
      <div class="card-header" style="background-color: rgb(78, 170, 167); ">
        <h4 class="card-title text-center mt-0" style="color:white;">Agregar Premio</h4>
      </div>
      {% if messages %}
      {% for message in messages %}
      <div style="position: fixed;top: 50px; right: 100px; width: 300px; z-index: 9999;"
           class="alert {% if message.tags == 'error' %}alert-danger{% else %}alert-success{% endif %} alert-dismissible fade show"
           role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endfor %}
      {% endif %}
       <form method="POST" id="form" class="form-horizontal" action="{% url 'agregar_premio' %}">
        {% csrf_token %}
          <div class="card-body" style="background-color: rgb(78, 170, 167); border: 1px solid #333; padding: 20px; margin-top:1%;">
            <div class="row">
              <div class="col-sm-6">
                <div class="mb-3">
                  <label for="nombrePremio" class="form-label fw-bold fs-6" style="color: white;">Nombre premio:</label>
                  <input type="text" id="nombrePremio" name="nombrePremio" class="form-control" required>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="mb-3">
                  <label for="autocomplete-input" class="form-label fw-bold fs-6" style="color:white;">Campa√±a:</label>
                  <input type="text" name="servicio" id="autocomplete-input" class="form-control" required>
                  <ul id="resultados" class="list-group" style="display: none;"></ul>
                </div>
              </div>
            </div>
            <div class="mb-3 row text-end">
              <div class="col-sm-12">
                <button type="submit" class="btn btn-primary" id="boton-enviar">Agregar</button>
              </div>
            </div>
          </div>
       </form>
    </div>
  </div>
</div>

<script type="text/javascript" src="{% static 'js/agregar_premio/agregar_premio.js' %}"></script>
{% endif %}
{% endif %}
{% endblock %}